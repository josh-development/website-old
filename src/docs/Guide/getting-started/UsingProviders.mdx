import { Codeblock, CodeblockContent, CodeblockIndex } from '../../../components/Codeblock.tsx';

# Using Providers

What is a provider? A Provider is simply a layer between [`Josh`](https://github.com/josh-development/core/blob/main/src/lib/structures/Josh.ts) and a database or any other backend you use to store your data. Each provider receives a payload from every method you use in your instance and returns a modified version of it.

## Getting Started

Providers can be installed separately from Josh using your package manager (e.g. npm). You can also make your own provider by extending the exported [`JoshProvider`](https://github.com/josh-development/core/blob/main/src/lib/structures/JoshProvider.ts) class.

In the example below we will use the default in-memory provider which uses the Node.js native [`Map`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map) class.

<Codeblock type="TYPESCRIPT_ESM_COMMONJS">
  <CodeblockContent type="TYPESCRIPT_ESM_COMMONJS" index={CodeblockIndex.TypeScript}>
    ```typescript
    import { Josh, MapProvider } from '@joshdb/core';

    interface User {
      id: string;

      username: string;
    }

    const josh = new Josh<User>({ name: 'users', provider: new MapProvider() });

    await josh.init();
    ```

  </CodeblockContent>

  <CodeblockContent type="TYPESCRIPT_ESM_COMMONJS" index={CodeblockIndex.ESM}>
    ```javascript
    import { Josh, MapProvider } from '@joshdb/core';

    const josh = new Josh({ name: 'name', provider: new MapProvider() });

    await josh.init();
    ```

  </CodeblockContent>

  <CodeblockContent type="TYPESCRIPT_ESM_COMMONJS" index={CodeblockIndex.CommonJS}>
    ```javascript
    const { Josh, MapProvider } = require('@joshdb/core');

    const josh = new Josh({ name: 'name', provider: new MapProvider() });

    await josh.init();
    ```

  </CodeblockContent>
</Codeblock>
